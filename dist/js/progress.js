!function(i){function t(){this.frameId=null,this.total,this.init()}t.prototype={init:function(){this.getDom(),this.initDrag()},getDom:function(){this.curTimeDom=document.querySelector(".curTime"),this.totalTimeDom=document.querySelector(".totalTime"),this.frontBgDom=document.querySelector(".frontBg"),this.circleDom=document.querySelector(".circle"),this.dragDom=document.querySelector(".drag")},initTotalTime:function(t){this.totalTime=t,this.totalTimeDom.innerHTML=this.formatTime(t)},start:function(){cancelAnimationFrame(this.frameId);var t=()=>{this.curTime=i.music.getCurTime(),this.totalTime=i.music.getTotalTime(),this.per=this.curTime/this.totalTime,this.per<=1?this.render():cancelAnimationFrame(this.frameId),this.frameId=requestAnimationFrame(t)};t()},stop:function(){cancelAnimationFrame(this.frameId)},render:function(){this.curTimeDom.innerHTML=this.formatTime(this.curTime||0),this.totalTimeDom.innerHTML=this.formatTime(this.totalTime||0),this.frontBgDom.style.width=100*this.per+"%",this.circleDom.style.transform="translate("+this.per*this.dragDom.offsetWidth+"px)"},formatTime:function(t){t=Math.round(t);var i=Math.floor(t/60),t=t%60;return(i=i<10?"0"+i:i)+":"+(t=t<10?"0"+t:t)},initDrag:function(){var o=this.dragDom.offsetWidth,n=this.curTimeDom.offsetWidth,r=this;this.circleDom.ontouchstart=function(t){var i=0,e=0;document.ontouchmove=function(t){r.stop(),(i=t.changedTouches[0].pageX-n)<=0?i=0:o<=i&&(i=o),e=i/o,r.circleDom.style.transform="translate("+i+"px)",r.frontBgDom.style.width=100*e+"%",r.curTimeDom.innerHTML=r.formatTime(e*r.totalTime)},document.ontouchend=function(){player.music.turnMusicTo(e*r.totalTime),r.start(),document.ontouchmove=null,document.ontouchend=null}},this.dragDom.ontouchend=function(t){var i=t.changedTouches[0].pageX-n,t=i/o;r.circleDom.style.transform="translate("+i+"px)",r.frontBgDom.style.width=100*t+"%",r.curTimeDom.innerHTML=r.formatTime(t*r.totalTime),player.music.turnMusicTo(t*r.totalTime)}}},i.progress=new t}(window.player||(window.player={}));